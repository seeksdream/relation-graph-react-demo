{"version":3,"file":"svg-injector.cjs.production.js","sources":["../compiled/cache.js","../compiled/clone-svg.js","../compiled/is-local.js","../compiled/make-ajax-request.js","../compiled/request-queue.js","../compiled/load-svg-cached.js","../compiled/load-svg-uncached.js","../compiled/unique-id.js","../compiled/inject-element.js","../compiled/svg-injector.js"],"sourcesContent":["var cache = new Map();\nexport default cache;\n//# sourceMappingURL=cache.js.map","var cloneSvg = function (sourceSvg) {\n    return sourceSvg.cloneNode(true);\n};\nexport default cloneSvg;\n//# sourceMappingURL=clone-svg.js.map","var isLocal = function () { return window.location.protocol === 'file:'; };\nexport default isLocal;\n//# sourceMappingURL=is-local.js.map","import { parse as parseContentType } from 'content-type';\nimport isLocal from './is-local';\nvar makeAjaxRequest = function (url, httpRequestWithCredentials, callback) {\n    var httpRequest = new XMLHttpRequest();\n    httpRequest.onreadystatechange = function () {\n        try {\n            if (!/\\.svg/i.test(url) && httpRequest.readyState === 2) {\n                var contentType = httpRequest.getResponseHeader('Content-Type');\n                if (!contentType) {\n                    throw new Error('Content type not found');\n                }\n                var type = parseContentType(contentType).type;\n                if (!(type === 'image/svg+xml' || type === 'text/plain')) {\n                    throw new Error(\"Invalid content type: \".concat(type));\n                }\n            }\n            if (httpRequest.readyState === 4) {\n                if (httpRequest.status === 404 || httpRequest.responseXML === null) {\n                    throw new Error(isLocal()\n                        ? 'Note: SVG injection ajax calls do not work locally without ' +\n                            'adjusting security settings in your browser. Or consider ' +\n                            'using a local webserver.'\n                        : 'Unable to load SVG file: ' + url);\n                }\n                if (httpRequest.status === 200 ||\n                    (isLocal() && httpRequest.status === 0)) {\n                    callback(null, httpRequest);\n                }\n                else {\n                    throw new Error('There was a problem injecting the SVG: ' +\n                        httpRequest.status +\n                        ' ' +\n                        httpRequest.statusText);\n                }\n            }\n        }\n        catch (error) {\n            httpRequest.abort();\n            if (error instanceof Error) {\n                callback(error, httpRequest);\n            }\n            else {\n                throw error;\n            }\n        }\n    };\n    httpRequest.open('GET', url);\n    httpRequest.withCredentials = httpRequestWithCredentials;\n    if (httpRequest.overrideMimeType) {\n        httpRequest.overrideMimeType('text/xml');\n    }\n    httpRequest.send();\n};\nexport default makeAjaxRequest;\n//# sourceMappingURL=make-ajax-request.js.map","import cache from './cache';\nimport cloneSvg from './clone-svg';\nvar requestQueue = {};\nexport var clear = function () {\n    requestQueue = {};\n};\nexport var queueRequest = function (url, callback) {\n    requestQueue[url] = requestQueue[url] || [];\n    requestQueue[url].push(callback);\n};\nexport var processRequestQueue = function (url) {\n    var _loop_1 = function (i, len) {\n        setTimeout(function () {\n            if (Array.isArray(requestQueue[url])) {\n                var cacheValue = cache.get(url);\n                var callback = requestQueue[url][i];\n                if (cacheValue instanceof SVGSVGElement) {\n                    callback(null, cloneSvg(cacheValue));\n                }\n                if (cacheValue instanceof Error) {\n                    callback(cacheValue);\n                }\n                if (i === requestQueue[url].length - 1) {\n                    delete requestQueue[url];\n                }\n            }\n        }, 0);\n    };\n    for (var i = 0, len = requestQueue[url].length; i < len; i++) {\n        _loop_1(i, len);\n    }\n};\n//# sourceMappingURL=request-queue.js.map","import cache from './cache';\nimport cloneSvg from './clone-svg';\nimport makeAjaxRequest from './make-ajax-request';\nimport { processRequestQueue, queueRequest } from './request-queue';\nvar loadSvgCached = function (url, httpRequestWithCredentials, callback) {\n    if (cache.has(url)) {\n        var cacheValue = cache.get(url);\n        if (cacheValue === undefined) {\n            queueRequest(url, callback);\n            return;\n        }\n        if (cacheValue instanceof SVGSVGElement) {\n            callback(null, cloneSvg(cacheValue));\n            return;\n        }\n    }\n    cache.set(url, undefined);\n    queueRequest(url, callback);\n    makeAjaxRequest(url, httpRequestWithCredentials, function (error, httpRequest) {\n        var _a;\n        if (error) {\n            cache.set(url, error);\n        }\n        else if (((_a = httpRequest.responseXML) === null || _a === void 0 ? void 0 : _a.documentElement) instanceof SVGSVGElement) {\n            cache.set(url, httpRequest.responseXML.documentElement);\n        }\n        processRequestQueue(url);\n    });\n};\nexport default loadSvgCached;\n//# sourceMappingURL=load-svg-cached.js.map","import makeAjaxRequest from './make-ajax-request';\nvar loadSvgUncached = function (url, httpRequestWithCredentials, callback) {\n    makeAjaxRequest(url, httpRequestWithCredentials, function (error, httpRequest) {\n        var _a;\n        if (error) {\n            callback(error);\n        }\n        else if (((_a = httpRequest.responseXML) === null || _a === void 0 ? void 0 : _a.documentElement) instanceof SVGSVGElement) {\n            callback(null, httpRequest.responseXML.documentElement);\n        }\n    });\n};\nexport default loadSvgUncached;\n//# sourceMappingURL=load-svg-uncached.js.map","var idCounter = 0;\nvar uniqueId = function () { return ++idCounter; };\nexport default uniqueId;\n//# sourceMappingURL=unique-id.js.map","import { __spreadArray } from \"tslib\";\nimport loadSvgCached from './load-svg-cached';\nimport loadSvgUncached from './load-svg-uncached';\nimport uniqueId from './unique-id';\nvar injectedElements = [];\nvar ranScripts = {};\nvar svgNamespace = 'http://www.w3.org/2000/svg';\nvar xlinkNamespace = 'http://www.w3.org/1999/xlink';\nvar injectElement = function (el, evalScripts, renumerateIRIElements, cacheRequests, httpRequestWithCredentials, beforeEach, callback) {\n    var elUrl = el.getAttribute('data-src') || el.getAttribute('src');\n    if (!elUrl) {\n        callback(new Error('Invalid data-src or src attribute'));\n        return;\n    }\n    if (injectedElements.indexOf(el) !== -1) {\n        injectedElements.splice(injectedElements.indexOf(el), 1);\n        el = null;\n        return;\n    }\n    injectedElements.push(el);\n    el.setAttribute('src', '');\n    var loadSvg = cacheRequests ? loadSvgCached : loadSvgUncached;\n    loadSvg(elUrl, httpRequestWithCredentials, function (error, svg) {\n        if (!svg) {\n            injectedElements.splice(injectedElements.indexOf(el), 1);\n            el = null;\n            callback(error);\n            return;\n        }\n        var elId = el.getAttribute('id');\n        if (elId) {\n            svg.setAttribute('id', elId);\n        }\n        var elTitle = el.getAttribute('title');\n        if (elTitle) {\n            svg.setAttribute('title', elTitle);\n        }\n        var elWidth = el.getAttribute('width');\n        if (elWidth) {\n            svg.setAttribute('width', elWidth);\n        }\n        var elHeight = el.getAttribute('height');\n        if (elHeight) {\n            svg.setAttribute('height', elHeight);\n        }\n        var mergedClasses = Array.from(new Set(__spreadArray(__spreadArray(__spreadArray([], (svg.getAttribute('class') || '').split(' '), true), [\n            'injected-svg'\n        ], false), (el.getAttribute('class') || '').split(' '), true)))\n            .join(' ')\n            .trim();\n        svg.setAttribute('class', mergedClasses);\n        var elStyle = el.getAttribute('style');\n        if (elStyle) {\n            svg.setAttribute('style', elStyle);\n        }\n        svg.setAttribute('data-src', elUrl);\n        var elData = [].filter.call(el.attributes, function (at) {\n            return /^data-\\w[\\w-]*$/.test(at.name);\n        });\n        Array.prototype.forEach.call(elData, function (dataAttr) {\n            if (dataAttr.name && dataAttr.value) {\n                svg.setAttribute(dataAttr.name, dataAttr.value);\n            }\n        });\n        if (renumerateIRIElements) {\n            var iriElementsAndProperties_1 = {\n                clipPath: ['clip-path'],\n                'color-profile': ['color-profile'],\n                cursor: ['cursor'],\n                filter: ['filter'],\n                linearGradient: ['fill', 'stroke'],\n                marker: ['marker', 'marker-start', 'marker-mid', 'marker-end'],\n                mask: ['mask'],\n                path: [],\n                pattern: ['fill', 'stroke'],\n                radialGradient: ['fill', 'stroke'],\n            };\n            var element_1;\n            var elements_1;\n            var properties_1;\n            var currentId_1;\n            var newId_1;\n            Object.keys(iriElementsAndProperties_1).forEach(function (key) {\n                element_1 = key;\n                properties_1 = iriElementsAndProperties_1[key];\n                elements_1 = svg.querySelectorAll(element_1 + '[id]');\n                var _loop_1 = function (a, elementsLen) {\n                    currentId_1 = elements_1[a].id;\n                    newId_1 = currentId_1 + '-' + uniqueId();\n                    var referencingElements;\n                    Array.prototype.forEach.call(properties_1, function (property) {\n                        referencingElements = svg.querySelectorAll('[' + property + '*=\"' + currentId_1 + '\"]');\n                        for (var b = 0, referencingElementLen = referencingElements.length; b < referencingElementLen; b++) {\n                            var attrValue = referencingElements[b].getAttribute(property);\n                            if (attrValue &&\n                                !attrValue.match(new RegExp('url\\\\(\"?#' + currentId_1 + '\"?\\\\)'))) {\n                                continue;\n                            }\n                            referencingElements[b].setAttribute(property, 'url(#' + newId_1 + ')');\n                        }\n                    });\n                    var allLinks = svg.querySelectorAll('[*|href]');\n                    var links = [];\n                    for (var c = 0, allLinksLen = allLinks.length; c < allLinksLen; c++) {\n                        var href = allLinks[c].getAttributeNS(xlinkNamespace, 'href');\n                        if (href && href.toString() === '#' + elements_1[a].id) {\n                            links.push(allLinks[c]);\n                        }\n                    }\n                    for (var d = 0, linksLen = links.length; d < linksLen; d++) {\n                        links[d].setAttributeNS(xlinkNamespace, 'href', '#' + newId_1);\n                    }\n                    elements_1[a].id = newId_1;\n                };\n                for (var a = 0, elementsLen = elements_1.length; a < elementsLen; a++) {\n                    _loop_1(a, elementsLen);\n                }\n            });\n        }\n        svg.removeAttribute('xmlns:a');\n        var scripts = svg.querySelectorAll('script');\n        var scriptsToEval = [];\n        var script;\n        var scriptType;\n        for (var i = 0, scriptsLen = scripts.length; i < scriptsLen; i++) {\n            scriptType = scripts[i].getAttribute('type');\n            if (!scriptType ||\n                scriptType === 'application/ecmascript' ||\n                scriptType === 'application/javascript' ||\n                scriptType === 'text/javascript') {\n                script = scripts[i].innerText || scripts[i].textContent;\n                if (script) {\n                    scriptsToEval.push(script);\n                }\n                svg.removeChild(scripts[i]);\n            }\n        }\n        if (scriptsToEval.length > 0 &&\n            (evalScripts === 'always' ||\n                (evalScripts === 'once' && !ranScripts[elUrl]))) {\n            for (var l = 0, scriptsToEvalLen = scriptsToEval.length; l < scriptsToEvalLen; l++) {\n                new Function(scriptsToEval[l])(window);\n            }\n            ranScripts[elUrl] = true;\n        }\n        var styleTags = svg.querySelectorAll('style');\n        Array.prototype.forEach.call(styleTags, function (styleTag) {\n            styleTag.textContent += '';\n        });\n        svg.setAttribute('xmlns', svgNamespace);\n        svg.setAttribute('xmlns:xlink', xlinkNamespace);\n        beforeEach(svg);\n        if (!el.parentNode) {\n            injectedElements.splice(injectedElements.indexOf(el), 1);\n            el = null;\n            callback(new Error('Parent node is null'));\n            return;\n        }\n        el.parentNode.replaceChild(svg, el);\n        injectedElements.splice(injectedElements.indexOf(el), 1);\n        el = null;\n        callback(null, svg);\n    });\n};\nexport default injectElement;\n//# sourceMappingURL=inject-element.js.map","import injectElement from './inject-element';\nvar SVGInjector = function (elements, _a) {\n    var _b = _a === void 0 ? {} : _a, _c = _b.afterAll, afterAll = _c === void 0 ? function () { return undefined; } : _c, _d = _b.afterEach, afterEach = _d === void 0 ? function () { return undefined; } : _d, _e = _b.beforeEach, beforeEach = _e === void 0 ? function () { return undefined; } : _e, _f = _b.cacheRequests, cacheRequests = _f === void 0 ? true : _f, _g = _b.evalScripts, evalScripts = _g === void 0 ? 'never' : _g, _h = _b.httpRequestWithCredentials, httpRequestWithCredentials = _h === void 0 ? false : _h, _j = _b.renumerateIRIElements, renumerateIRIElements = _j === void 0 ? true : _j;\n    if (elements && 'length' in elements) {\n        var elementsLoaded_1 = 0;\n        for (var i = 0, j = elements.length; i < j; i++) {\n            injectElement(elements[i], evalScripts, renumerateIRIElements, cacheRequests, httpRequestWithCredentials, beforeEach, function (error, svg) {\n                afterEach(error, svg);\n                if (elements &&\n                    'length' in elements &&\n                    elements.length === ++elementsLoaded_1) {\n                    afterAll(elementsLoaded_1);\n                }\n            });\n        }\n    }\n    else if (elements) {\n        injectElement(elements, evalScripts, renumerateIRIElements, cacheRequests, httpRequestWithCredentials, beforeEach, function (error, svg) {\n            afterEach(error, svg);\n            afterAll(1);\n            elements = null;\n        });\n    }\n    else {\n        afterAll(0);\n    }\n};\nexport default SVGInjector;\n//# sourceMappingURL=svg-injector.js.map"],"names":["cache","Map","cloneSvg","sourceSvg","cloneNode","isLocal","window","location","protocol","makeAjaxRequest","url","httpRequestWithCredentials","callback","httpRequest","XMLHttpRequest","onreadystatechange","test","readyState","contentType","getResponseHeader","Error","type","parseContentType","status","responseXML","statusText","error","abort","open","withCredentials","overrideMimeType","send","requestQueue","queueRequest","push","processRequestQueue","i","len","setTimeout","Array","isArray","cacheValue","get","SVGSVGElement","length","loadSvgCached","has","undefined","set","documentElement","loadSvgUncached","idCounter","uniqueId","injectedElements","ranScripts","svgNamespace","xlinkNamespace","injectElement","el","evalScripts","renumerateIRIElements","cacheRequests","beforeEach","elUrl","getAttribute","indexOf","splice","setAttribute","svg","elId","elTitle","elWidth","elHeight","mergedClasses","from","Set","__spreadArray","split","join","trim","elStyle","elData","filter","call","attributes","at","name","prototype","forEach","dataAttr","value","elements_1","properties_1","currentId_1","newId_1","iriElementsAndProperties_1","clipPath","cursor","linearGradient","marker","mask","path","pattern","radialGradient","Object","keys","key","a","elementsLen","referencingElements","id","property","b","referencingElementLen","querySelectorAll","attrValue","match","RegExp","allLinks","links","c","allLinksLen","href","getAttributeNS","toString","d","linksLen","setAttributeNS","removeAttribute","script","scriptType","scripts","scriptsToEval","scriptsLen","innerText","textContent","removeChild","l","scriptsToEvalLen","Function","styleTags","styleTag","parentNode","replaceChild","SVGInjector","elements","_a","_b","_c","afterAll","_d","afterEach","_e","_f","_g","_h","_j","elementsLoaded_1","j"],"mappings":"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"}